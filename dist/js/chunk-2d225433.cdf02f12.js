(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d225433"],{e43a:function(e,t,a){"use strict";a.r(t);var r=a("7a23"),n={class:"font-weight-light"};function o(e,t,a,o,c,i){var d=Object(r["y"])("FileUpload"),u=Object(r["y"])("update-form");return Object(r["q"])(),Object(r["d"])("div",null,[Object(r["g"])("h1",n,"Измнение транспортного средства "+Object(r["B"])(e.$route.params.id),1),c.loaded?(Object(r["q"])(),Object(r["d"])(u,{key:0,contentId:e.$route.params.id,formFieldsProp:c.fieldsWithValue,onUpdate:t[3]||(t[3]=function(e){return i.update(e)})},{default:Object(r["I"])((function(){return[Object(r["g"])(d,{filesFromServer:c.filesFromServer,"onFile-ready-for-upload":t[1]||(t[1]=function(e){return i.fileReadyForUpload(e)}),"onFile-detach-from-upload":t[2]||(t[2]=function(e){return i.fileDetachFromUpload(e)})},null,8,["filesFromServer"])]})),_:1},8,["contentId","formFieldsProp"])):Object(r["e"])("",!0)])}a("4de4"),a("4160"),a("b0c0"),a("4fad"),a("b64b"),a("159b");var c=a("5530"),i=a("3835"),d=(a("96cf"),a("1da1")),u=a("1e25"),l=a("4ce5"),s=a("bb36"),f=a("43b8"),p={components:{UpdateForm:u["a"],FileUpload:l["a"]},data:function(){return{correspondence:f,attachedFiles:[],filesFromServer:[],formData:new FormData,fieldsWithValue:{},loaded:!1}},methods:{fileReadyForUpload:function(e){this.attachedFiles.push(e)},fileDetachFromUpload:function(e){this.attachedFiles=this.attachedFiles.filter((function(t){return t.name!==e.name}))},update:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,Object.keys(e.dataForUpdate).forEach((function(a){e.dataForUpdate[a]&&t.formData.append(a,e.dataForUpdate[a])})),t.attachedFiles.forEach((function(e){t.formData.append("files",e)})),a.next=5,Object(s["a"])({method:"put",url:"ATS/".concat(e.contentId),data:t.formData});case 5:t.$router.push("/"),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),alert("Ошибка",a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))()}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].get("ATS/".concat(e.$route.params.id));case 2:for(a=t.sent.data,e.filesFromServer=a.ATSFiles,r=0,n=Object.entries(e.correspondence.ATS.fields);r<n.length;r++)o=Object(i["a"])(n[r],2),d=o[0],u=o[1],e.fieldsWithValue[d]=Object(c["a"])(Object(c["a"])({},u),{},{value:a[d]});e.loaded=!0,console.log(e.fieldsWithValue);case 7:case"end":return t.stop()}}),t)})))()}};p.render=o;t["default"]=p}}]);
//# sourceMappingURL=chunk-2d225433.cdf02f12.js.map